# 诗词来源显示优化

## 概述

优化了宝宝取名网站中诗词名字生成结果的来源显示方式，提升用户体验和信息可读性。

## 主要改进内容

### 1. 移除右上角标识

**改进前的问题：**
- 名字卡片右上角显示英文的诗词来源标识（如 "tangshi", "songci"）
- 标识位置突兀，影响卡片美观性
- 英文标识对用户不够友好

**改进后的效果：**
- 完全移除了右上角的诗词来源标识
- 卡片界面更加简洁美观

### 2. 添加中文来源信息

**新增功能：**
- 在名字结果右边添加诗词来源信息
- 使用中文显示，提升用户理解度
- 布局清晰，信息层次分明

**显示样式：**
```
名字信息                来源
李天末                 ┌─────┐
含义：xxx              │ 唐诗 │
和谐度：xxx            └─────┘
```

### 3. 诗词来源中文映射

创建了完整的诗词来源英文到中文的映射表：

```typescript
const POETRY_SOURCE_MAP: Record<string, string> = {
  'tangshi': '唐诗',
  'songci': '宋词',
  'shijing': '诗经',
  'chuci': '楚辞',
  'lunyu': '论语',
  'mengzi': '孟子',
  'daxue': '大学',
  'zhongyong': '中庸',
  'yuanqu': '元曲',
  'huajianji': '花间集',
  'nantang': '南唐',
  'caocao': '曹操诗集',
  'shuimotangshi': '水墨唐诗',
  'nalanxingde': '纳兰性德',
  'youmengying': '幽梦影',
  'baijiaxing': '百家姓',
  'dizigui': '弟子规',
  'guwenguanzhi': '古文观止',
  // ... 更多映射
};
```

## 修改的文件

### 1. 诗词取名页面 (`src/pages/poetry-naming.tsx`)

**主要变更：**
- 添加诗词来源中文映射
- 移除右上角标识组件
- 重新设计名字卡片布局
- 在右侧添加中文来源信息显示

**布局改进：**
- 使用flex布局，左侧显示名字信息，右侧显示来源
- 名字信息区域保持原有功能（点击查看详情）
- 来源信息使用蓝色主题，与整体设计保持一致

### 2. 诗词名字详情页面 (`src/pages/poetry-name-detail.tsx`)

**主要变更：**
- 添加相同的诗词来源中文映射
- 更新所有显示book名称的地方，使用中文名称
- 保持页面布局不变，仅更新显示内容

## 设计考虑

### 1. 用户体验
- **可读性提升**：使用中文名称替代英文标识
- **信息层次**：来源信息位置合理，不干扰主要内容
- **视觉平衡**：去掉突兀的右上角标识，整体更和谐

### 2. 界面美观性
- **简洁设计**：减少不必要的装饰元素
- **一致性**：来源标签样式与整体设计语言一致
- **响应式**：在不同屏幕尺寸下都有良好的显示效果

### 3. 功能完整性
- **保持原功能**：所有原有的交互功能都得到保留
- **增强信息**：用户可以更清楚地了解名字的文化来源
- **向后兼容**：支持未在映射表中的来源标识

## 技术实现

### 1. 组件重构
- 将原来使用NameCard组件的方式改为自定义布局
- 保持了NameCard的核心功能逻辑
- 添加了更灵活的布局控制

### 2. 数据处理
- 创建映射函数处理英文到中文的转换
- 兼容处理未知的来源标识
- 保持数据结构的一致性

### 3. 样式优化
- 使用Tailwind CSS实现响应式布局
- 保持与现有设计系统的一致性
- 添加适当的hover效果提升交互体验

## 效果对比

### 改进前
```
┌─────────────────────────────┐
│ 李天末            [tangshi] │ ← 右上角英文标识
│ 含义：八尺龙须方锦褥...      │
│ 和谐度：[████████    ] 80%   │
│ [查看详情]                  │
└─────────────────────────────┘
```

### 改进后
```
┌──────────────────────────────────────┐
│ 李天末                    来源        │
│ 含义：八尺龙须方锦褥...     ┌─────┐   │
│ 和谐度：[████████    ] 80%  │ 唐诗 │   │
│ [查看详情]                └─────┘   │
└──────────────────────────────────────┘
```

## 后续优化建议

1. **可考虑添加图标**：为不同的诗词来源添加对应的文化图标
2. **颜色主题化**：不同来源可以使用不同的主题颜色
3. **更多元数据**：可以考虑显示朝代、作者等额外信息
4. **筛选功能**：允许用户按来源筛选名字结果

## 结论

通过这次优化，诗词来源信息的显示更加用户友好，界面更加美观简洁。用户现在可以清楚地看到每个名字来自哪个经典文献，增强了文化教育价值，同时保持了良好的用户体验。
